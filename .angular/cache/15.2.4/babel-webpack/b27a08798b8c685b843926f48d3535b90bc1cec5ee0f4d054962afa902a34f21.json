{"ast":null,"code":"import { ConfigurationService } from '../../services/configuration.service';\nimport { first, map } from 'rxjs/operators';\nimport { moveItemInArray } from '@angular/cdk/drag-drop';\nimport { PROVIDE_SORT_LABELS } from '../../providers/sort-labels.provider';\nimport { sortColumn } from '../../helper/helpers';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/configuration.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@acpaas-ui/ngx-icon\";\nimport * as i4 from \"@acpaas-ui/ngx-flyout\";\nfunction TableColumnSelectorComponent_li_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 7)(1, \"div\", 8)(2, \"input\", 9);\n    i0.ɵɵlistener(\"change\", function TableColumnSelectorComponent_li_8_Template_input_change_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const column_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleVisibilityHook(column_r1.key));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 10);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 11)(6, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function TableColumnSelectorComponent_li_8_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const i_r2 = restoredCtx.index;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.moveColumnUp(i_r2));\n    });\n    i0.ɵɵelement(7, \"aui-icon\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function TableColumnSelectorComponent_li_8_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const i_r2 = restoredCtx.index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.moveColumnDown(i_r2));\n    });\n    i0.ɵɵpipe(9, \"async\");\n    i0.ɵɵelement(10, \"aui-icon\", 14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const column_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_8_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"id\", \"checkbox--\" + i_r2 + \"--\" + column_r1.key);\n    i0.ɵɵpropertyInterpolate(\"name\", \"checkbox--\" + i_r2 + \"--\" + column_r1.key);\n    i0.ɵɵproperty(\"disabled\", !(column_r1.canHide !== false))(\"checked\", column_r1.visible !== false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", \"checkbox--\" + i_r2 + \"--\" + column_r1.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(column_r1.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", i_r2 === 0)(\"title\", ctx_r0.labels.orderBefore);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", i_r2 === ((tmp_8_0 = i0.ɵɵpipeBind1(9, 10, ctx_r0.configuration$)) == null ? null : tmp_8_0.columns == null ? null : tmp_8_0.columns.length) - 1)(\"title\", ctx_r0.labels.orderAfter);\n  }\n}\nexport let TableColumnSelectorComponent = /*#__PURE__*/(() => {\n  class TableColumnSelectorComponent {\n    constructor(configurationService, labels) {\n      this.configurationService = configurationService;\n      this.labels = labels;\n    }\n    ngOnInit() {\n      this.configuration$ = this.configurationService.getConfiguration(this.instanceId);\n      this.columns$ = this.configuration$.pipe(map(config => config.columns.sort(sortColumn)));\n    }\n    updateOrderIndex(payload) {\n      return this.configuration$.pipe(first(), map(c => {\n        const columns = [...c.columns.sort(sortColumn)];\n        moveItemInArray(columns, payload.oldIndex, payload.newIndex);\n        return Object.assign(Object.assign({}, c), {\n          columns: columns.map((item, orderIndex) => Object.assign(Object.assign({}, item), {\n            orderIndex\n          })).sort(sortColumn)\n        });\n      }));\n    }\n    toggleColumnVisibility(key) {\n      return this.configuration$.pipe(first(), map(config => {\n        const newColumns = [...config.columns];\n        const index = newColumns.findIndex(c => c.key === key);\n        if (index > -1) {\n          newColumns[index].visible = !(newColumns[index].visible !== false);\n        }\n        return Object.assign(Object.assign({}, config), {\n          columns: newColumns.sort(sortColumn)\n        });\n      }));\n    }\n    toggleVisibilityHook(key) {\n      this.toggleColumnVisibility(key).subscribe(config => this.configurationService.setConfiguration(this.instanceId, config));\n    }\n    moveColumnUp(index) {\n      this.updateOrderIndex({\n        oldIndex: index,\n        newIndex: index - 1\n      }).subscribe(config => this.configurationService.setConfiguration(this.instanceId, config));\n    }\n    moveColumnDown(index) {\n      this.updateOrderIndex({\n        oldIndex: index,\n        newIndex: index + 1\n      }).subscribe(config => this.configurationService.setConfiguration(this.instanceId, config));\n    }\n  }\n  TableColumnSelectorComponent.ɵfac = function TableColumnSelectorComponent_Factory(t) {\n    return new (t || TableColumnSelectorComponent)(i0.ɵɵdirectiveInject(i1.ConfigurationService), i0.ɵɵdirectiveInject(PROVIDE_SORT_LABELS));\n  };\n  TableColumnSelectorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TableColumnSelectorComponent,\n    selectors: [[\"aui-table-column-selector\"]],\n    inputs: {\n      instanceId: \"instanceId\"\n    },\n    decls: 10,\n    vars: 9,\n    consts: [[\"auiFlyout\", \"\", \"size\", \"small\", \"align\", \"right\"], [\"auiFlyoutAction\", \"\", 1, \"a-button-outline\", \"has-icon\", 3, \"title\"], [\"name\", \"ai-layout-column\"], [\"auiFlyoutZone\", \"\"], [1, \"u-margin-left-xs\", \"u-margin-top-xs\"], [1, \"a-list\", \"a-list--reset\", \"aui-smart-table__column-checklist\", \"u-text-left\"], [\"class\", \"a-list__item\", 4, \"ngFor\", \"ngForOf\"], [1, \"a-list__item\"], [1, \"a-input\", \"a-input__checkbox\"], [\"type\", \"checkbox\", 3, \"disabled\", \"id\", \"name\", \"checked\", \"change\"], [3, \"for\"], [1, \"o-sort-buttons\"], [1, \"a-button-negative\", \"a-button--small\", \"has-icon\", 3, \"disabled\", \"title\", \"click\"], [\"name\", \"ai-arrow-up-1\"], [\"name\", \"ai-arrow-down-1\"]],\n    template: function TableColumnSelectorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelement(4, \"aui-icon\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"ul\", 5);\n        i0.ɵɵtemplate(8, TableColumnSelectorComponent_li_8_Template, 11, 12, \"li\", 6);\n        i0.ɵɵpipe(9, \"async\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        let tmp_0_0;\n        let tmp_1_0;\n        let tmp_2_0;\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"title\", ((tmp_0_0 = i0.ɵɵpipeBind1(3, 5, ctx.configuration$)) == null ? null : tmp_0_0.options.translations == null ? null : tmp_0_0.options.translations.openColumnSelector) || \"Toon/verberg kolommen\");\n        i0.ɵɵattribute(\"aria-label\", ((tmp_1_0 = i0.ɵɵpipeBind1(2, 3, ctx.configuration$)) == null ? null : tmp_1_0.options.translations == null ? null : tmp_1_0.options.translations.openColumnSelector) || \"Toon/verberg kolommen\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", (tmp_2_0 = i0.ɵɵpipeBind1(9, 7, ctx.configuration$)) == null ? null : tmp_2_0.columns);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.IconComponent, i4.FlyoutActionDirective, i4.FlyoutZoneDirective, i4.FlyoutDirective, i2.AsyncPipe],\n    styles: [\"[_ngcontent-%COMP%]:root{--theme1-600: #002855;--theme1-500: #003865;--theme1-400: #0057b7;--theme1-300: #009cde;--theme1-200: #41b6e6;--theme1-100: #99d6ea;--theme1-075: #96b5e4;--theme1-050: #e0ebf6;--theme2-600: #7c2629;--theme2-500: #862633;--theme2-400: #cf0039;--theme2-300: #df4661;--theme2-200: #ffb1bb;--theme2-100: #f5dadf;--success-700: #004721;--success-600: #006e33;--success-500: #4c8d2b;--success-400: #6cc24a;--success-300: #97d700;--success-200: #bce194;--success-100: #d0debb;--success-050: #edf8e9;--warning-500: #8f3400;--warning-400: #ce4c00;--warning-050: #ffe4d6;--danger-600: #7c2629;--danger-500: #af272f;--danger-400: #e03c31;--danger-300: #e56a54;--danger-200: #e6baa8;--danger-100: #f3cfb3;--danger-050: #fbe8e6;--text-color: #000;--text-color-light: #6f6f6f;--text-color-xlight: #fff;--bg-color: #d8d8d8;--bg-color-light: #f3f3f3;--border-color: #949494;--overlay-color: rgba(0, 0, 0, .75);--box-shadow-color: rgba(20, 20, 20, .12);--state-info: var(--theme1-400);--state-success: var(--success-600);--state-warning: var(--warning-400);--state-danger: var(--danger-500);--state-disabled: #6f6f6f;--spacer: 1.5rem;--spacer-3xl: calc(var(--spacer) * 4);--spacer-xxl: calc(var(--spacer) * 2.5);--spacer-xl: calc(var(--spacer) * 2);--spacer-l: calc(var(--spacer) * 1.5);--spacer-s: calc(var(--spacer) / 1.5);--spacer-xs: calc(var(--spacer) / 2);--spacer-xxs: calc(var(--spacer) / 3);--spacer-3xs: calc(var(--spacer) / 6);--screen-xs: 30rem;--screen-s: 45rem;--screen-l: 62rem;--screen-xl: 75rem;--screen-xxl: calc(var(--screen-xl) + calc(var(--spacer-3xl) * 2) + calc(var(--spacer) * 2));--screen-xs-max: 44.9375rem;--screen-s-max: 61.9375rem;--screen-l-max: 74.9375rem;--screen-xl-max: 89.9375rem;--font-family-base: \\\"Sun Antwerpen\\\", sans-serif;--font-family-headings: \\\"Antwerpen Regular\\\", sans-serif;--font-family-monospace: \\\"Menlo\\\", \\\"Monaco\\\", \\\"Consolas\\\", \\\"Courier New\\\", monospace;--font-weight-light: 300;--font-weight-normal: 500;--font-weight-bold: 700;--font-weight-extra-bold: 800;--font-weight-h1: var(--font-weight-normal);--font-weight-h2: var(--font-weight-normal);--font-weight-h3: var(--font-weight-normal);--font-weight-h4: var(--font-weight-normal);--font-weight-h5: var(--font-weight-normal);--font-weight-h6: var(--font-weight-normal);--link-color: var(--theme1-400);--link-hover-color: var(--theme1-500);--border-radius: 0;--border-width: 1px;--animation-duration: .2s;--animation-easing: ease-in-out;--animation-normal: var(--animation-duration) var(--animation-easing);--box-shadow-bottom-left: calc(var(--spacer) / -2) calc(var(--spacer) / 2) 0 var(--box-shadow-color);--box-shadow-bottom-right: calc(var(--spacer) / 2) calc(var(--spacer) / 2) 0 var(--box-shadow-color);--box-shadow-upper-left: calc(var(--spacer) / -2) calc(var(--spacer) / -2) 0 var(--box-shadow-color);--box-shadow-upper-right: calc(var(--spacer) / 2) calc(var(--spacer) / -2) 0 var(--box-shadow-color);--box-shadow: var(--box-shadow-bottom-right);--shared-avatar-size-s: var(--spacer-l);--shared-avatar-size: var(--spacer-xl);--shared-avatar-size-l: var(--spacer-xxl);--shared-copyright-color: #fff;--shared-copyright-height: var(--spacer-l);--shared-header-height: var(--spacer-xl);--shared-slideshow-footer-color-light: #fff}.m-flyout__content[_ngcontent-%COMP%]{max-height:60vh;overflow-x:hidden;overflow-y:auto}li[_ngcontent-%COMP%]{display:flex;-webkit-hyphens:auto;hyphens:auto;padding:0;word-break:break-all}li[_ngcontent-%COMP%]   .a-input[_ngcontent-%COMP%]{flex:1}li[_ngcontent-%COMP%]   .a-input.a-input__checkbox[_ngcontent-%COMP%]:not(:last-child){margin-top:.375rem}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}\"]\n  });\n  return TableColumnSelectorComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}